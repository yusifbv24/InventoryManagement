@model PagedResultDto<DepartmentViewModel>
@{
    var startItem = ((Model.PageNumber - 1) * Model.PageSize) + 1;
    var endItem = Math.Min(Model.PageNumber * Model.PageSize, Model.TotalCount);
}

<div class="pagination-wrapper d-flex align-items-center justify-content-between">
    <div class="pagination-info">
        <span class="text-muted">
            @if (Model.TotalCount > 0)
            {
                <text>Showing @startItem–@endItem of @Model.TotalCount departments</text>
            }
            else
            {
                <text>No departments found</text>
            }
        </span>
    </div>

    @if (Model.TotalPages > 1)
    {
        <nav aria-label="Department pagination">
            <ul class="pagination mb-0">
                <!-- Previous button -->
                <li class="page-item @(!Model.HasPreviousPage ? "disabled" : "")">
                    <a class="page-link" href="?pageNumber=@(Model.PageNumber - 1)&pageSize=@Model.PageSize"
                       aria-disabled="@(!Model.HasPreviousPage ? "true" : "false")">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                </li>

                <!-- Page numbers -->
                @{
                    var startPage = Math.Max(1, Model.PageNumber - 2);
                    var endPage = Math.Min(Model.TotalPages, Model.PageNumber + 2);
                }

                @if (startPage > 1)
                {
                    <li class="page-item">
                        <a class="page-link" href="?pageNumber=1&pageSize=@Model.PageSize">1</a>
                    </li>
                    @if (startPage > 2)
                    {
                        <li class="page-item disabled">
                            <span class="page-link">...</span>
                        </li>
                    }
                }

                @for (var i = startPage; i <= endPage; i++)
                {
                    <li class="page-item @(i == Model.PageNumber ? "active" : "")">
                        <a class="page-link" href="?pageNumber=@i&pageSize=@Model.PageSize">@i</a>
                    </li>
                }

                @if (endPage < Model.TotalPages)
                {
                    @if (endPage < Model.TotalPages - 1)
                    {
                        <li class="page-item disabled">
                            <span class="page-link">...</span>
                        </li>
                    }
                    <li class="page-item">
                        <a class="page-link" href="?pageNumber=@Model.TotalPages&pageSize=@Model.PageSize">@Model.TotalPages</a>
                    </li>
                }

                <!-- Next button -->
                <li class="page-item @(!Model.HasNextPage ? "disabled" : "")">
                    <a class="page-link" href="?pageNumber=@(Model.PageNumber + 1)&pageSize=@Model.PageSize"
                       aria-disabled="@(!Model.HasNextPage ? "true" : "false")">
                        <i class="fas fa-chevron-right"></i>
                    </a>
                </li>
            </ul>
        </nav>
    }
</div>